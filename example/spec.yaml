prefix: ^(?P<recdate>[0-9]{4}\-[0-9]{2}\-[0-9]{2})_
rules:
  - regex: A(?P<id>[0-9]+).txt$
    filename: "{recdate}_{id}.csv"
    directory: ./A
    process:
      stdin: true
      stdout: true
      command: 
        - tr
        - "|"
        - ","
  - regex: (?P<code>[B-Y])(?P<id>[0-9]+).dat$
    filename: "{recdate}_{id}.csv"
    directory: ./{code}
    process:
      stdin: false
      stdout: true
      command: 
        - sed
        - "s/;/,/g"
        - "{source}"
  - regex: (?P<code>.)(?P<id>[0-9]+).slk$
    filename: "{recdate}_{id}.csv"
    directory: ./{code}
    process:
      stdin: true
      stdout: false
      command: 
        - ssconvert
        - --export-type
        - Gnumeric_stf:stf_csv
        - fd://0
        - "{target}"
  - regex: Z(?P<id>[0-9]+).csv$
    filename: "{recdate}_{id}.csv"
    directory: ./Z
ignore:
  - ^.*ignore.*$
  - ^.*A000.txt$
  - Z013.dat
